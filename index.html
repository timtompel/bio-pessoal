<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio Pessoal</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="./fonts/font-awesome/css/all.min.css">
    <style>
        /* Estilos CSS para o player de áudio */
        #customPlayer {
            background: #0d1117;
            padding: 10px;
            border-radius: 8px;
            max-width: 600px;
            margin: 20px auto;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            color: #58a6ff;
        }

        #controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 5px;
        }

        #playPause {
            background: transparent;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #58a6ff;
            transition: transform 0.2s ease;
        }

        #playPause:hover {
            transform: scale(1.1);
        }

        #progressContainer {
            flex-grow: 1;
            margin: 0 10px;
            background: #333;
            border-radius: 4px;
            height: 10px;
            position: relative;
            cursor: pointer;
            overflow: hidden; /* Garante que a barra de progresso não ultrapasse */
        }

        #progress {
            background: #58a6ff;
            height: 100%;
            width: 0%;
            border-radius: 4px;
            transition: width 0.1s ease; /* Transição mais suave para a barra de progresso */
        }

        #currentTime,
        #duration {
            font-size: 14px;
            min-width: 40px; /* Evita que o texto pule ao mudar os dígitos */
            text-align: center;
        }

        /* Estilos para o ícone de pause */
        #playPause.playing i {
            content: "\f04c"; /* Font Awesome pause icon */
        }
        #playPause i {
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
        }

        @media (max-width: 768px) {
            #controls {
                flex-direction: column;
                align-items: center;
            }

            #playPause {
                margin-bottom: 10px;
            }

            #progressContainer {
                margin: 10px 0;
            }
        }
    </style>
</head>
<body>
    <div id="customPlayer">
        <audio id="audio" src="assets/sound/faixa1.mp3" loop></audio>
        <div id="controls">
            <button id="playPause"><i class="fas fa-play"></i></button>
            <div id="progressContainer">
                <div id="progress"></div>
            </div>
            <span id="currentTime">0:00</span> / <span id="duration">0:00</span>
        </div>
    </div>

    <header class="banner">
        <h1></h1>
    </header>

    <nav>
        <ul>
            <li><a href="#projetos">Projetos</a></li>
            <li><a href="#sobre">Sobre</a></li>
            <li><a href="#contato">Contato</a></li>
        </ul>
    </nav>

    <section id="projetos" class="grid-projetos">
        <div class="card">Projeto 1</div>
        <div class="card">Projeto 2</div>
        <div class="card">Projeto 3</div>
        <div class="card">Projeto 4</div>
    </section>

    <footer>
        <div class="redes-sociais">
            <a href="https://www.facebook.com/profile.php?id=61573300074606" class="social facebook"
                title="Facebook" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-facebook-f"></i>
            </a>
            <a href="https://www.tiktok.com/@timtompel" class="social tiktok" title="TikTok"
                target="_blank" rel="noopener noreferrer">
                <i class="fab fa-tiktok"></i>
            </a>
            <a href="https://www.youtube.com/@timtompel3230" class="social youtube"
                title="YouTube" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-youtube"></i>
            </a>
            <a href="https://www.instagram.com/emmanueltargino071985/" class="social instagram"
                title="Instagram" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="https://www.twitch.tv/timtompel" class="social twitch" title="Twitch"
                target="_blank" rel="noopener noreferrer">
                <i class="fab fa-twitch"></i>
            </a>
        </div>
        <p>© 2025 Emmanuel Targino. Todos os Direitos Reservados.</p>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // --- Animação dos Cards ---
            const cards = document.querySelectorAll(".card");
            cards.forEach(card => {
                card.style.opacity = "1";
                card.style.transform = "translateY(0)";
            });

            // --- Som dos Links de Redes Sociais ---
            const coinSound = new Audio("assets/sound/coin.mp3");
            coinSound.volume = 0.5; // Volume ajustado
            const socialLinks = document.querySelectorAll(".redes-sociais a");
            socialLinks.forEach(link => {
                link.addEventListener("mouseenter", () => {
                    coinSound.currentTime = 0;
                    coinSound.play().catch(error => {
                        console.error("Erro ao reproduzir coin.mp3:", error);
                    });
                });
            });

            // --- Player de Áudio Moderno ---
            const audio = document.getElementById("audio");
            const playPause = document.getElementById("playPause");
            const progressContainer = document.getElementById("progressContainer");
            const progress = document.getElementById("progress");
            const currentTimeElem = document.getElementById("currentTime");
            const durationElem = document.getElementById("duration");

            if (audio && playPause && progressContainer && progress && currentTimeElem && durationElem) {
                audio.preload = "metadata"; // Carrega apenas metadados inicialmente

                function formatTime(time) {
                    const minutes = Math.floor(time / 60) || 0;
                    const seconds = Math.floor(time % 60) || 0;
                    return `${minutes}:${seconds < 10 ? "0" : ""}${seconds}`;
                }

                audio.addEventListener("loadedmetadata", () => {
                    durationElem.textContent = formatTime(audio.duration);
                });

                audio.addEventListener("timeupdate", () => {
                    if (audio.duration) {
                        const percent = (audio.currentTime / audio.duration) * 100;
                        progress.style.width = `${percent}%`;
                        currentTimeElem.textContent = formatTime(audio.currentTime);
                    }
                });

                playPause.addEventListener("click", () => {
                    if (audio.paused) {
                        audio.play().then(() => {
                            playPause.classList.add('playing'); // Adiciona classe para trocar o ícone
                        }).catch(error => {
                            console.error("Erro ao reproduzir áudio:", error);
                        });
                    } else {
                        audio.pause();
                        playPause.classList.remove('playing'); // Remove classe para trocar o ícone
                    }
                });

                progressContainer.addEventListener("click", (e) => {
                    const width = progressContainer.clientWidth;
                    const clickX = e.offsetX;
                    audio.currentTime = (clickX / width) * audio.duration;
                });

                // Manipula erros de reprodução
                audio.addEventListener('error', (e) => {
                    console.error('Erro de reprodução de áudio:', e);
                    switch (e.target.error.code) {
                        case e.target.error.MEDIA_ERR_ABORTED:
                            console.error('User aborted the video playback.');
                            break;
                        case e.target.error.MEDIA_ERR_NETWORK:
                            console.error('A network error caused the audio download to fail.');
                            break;
                        case e.target.error.MEDIA_ERR_DECODE:
                            console.error('The audio playback was aborted due to a corruption problem or because the audio used features your browser does not support.');
                            break;
                        case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:
                            console.error('The audio could not be loaded, either because the server or network failed or because the format is not supported.');
                            break;
                        default:
                            console.error('An unknown error occurred.');
                            break;
                    }
                });
            } else {
                console.warn("Elementos do player de áudio não encontrados.");
            }
        });
    </script>
</body>
</html>
